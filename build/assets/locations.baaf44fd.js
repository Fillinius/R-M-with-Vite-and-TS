import{v as p,l as s,L as d,r as o}from"./index.f9820164.js";import{u as N}from"./useSearchData.4685f333.js";const f=({data:t,lastNodeRef:u})=>{const{pathname:a}=p();return s.exports.jsx("div",{className:"card",children:s.exports.jsx("ul",{className:"card-list ",children:t.map((e,r)=>t.length===r+1?s.exports.jsx("li",{className:"card-list--location",ref:u,children:s.exports.jsxs(d,{to:a+"/"+e.id,className:"card-link ",children:[s.exports.jsx("h2",{className:"card-title",children:e.name}),s.exports.jsxs("p",{className:"card-text",children:["Dimension - ",e.dimension]}),s.exports.jsxs("p",{className:"card-text",children:["Type - ",e.type]}),s.exports.jsxs("p",{className:"card-text",children:["Status - ",e.status]})]})},e.id):s.exports.jsx("li",{className:"card-list--location",children:s.exports.jsxs(d,{to:a+"/"+e.id,className:"card-link ",children:[s.exports.jsx("h2",{className:"card-title",children:e.name}),s.exports.jsxs("p",{className:"card-text",children:["Dimension - ",e.dimension]}),s.exports.jsxs("p",{className:"card-text",children:["Type - ",e.type]}),s.exports.jsxs("p",{className:"card-text",children:["Status - ",e.status]})]})},e.id))})})},b=()=>{const{pathname:t}=p(),u=t,[a,e]=o.exports.useState(1),{data:r,isLoading:c,error:l,hasMore:i}=N(a,u),n=o.exports.useRef(null),h=o.exports.useCallback(x=>{c||(n.current&&n.current.disconnect(),n.current=new IntersectionObserver(m=>{m[0].isIntersecting&&i&&(e(j=>j+1),console.log("visible"))}),x&&n.current.observe(x))},[c,i]);return s.exports.jsxs(s.exports.Fragment,{children:[l&&s.exports.jsx("p",{children:" \u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445"}),c&&s.exports.jsx("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445"}),r&&!c&&!l&&(r.length===0?"\u0421\u043F\u0438\u0441\u043E\u043A \u043F\u0443\u0441\u0442":s.exports.jsx(f,{data:r,lastNodeRef:h}))]})};export{b as default};
