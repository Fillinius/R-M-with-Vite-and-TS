import{r as j,T as z,c as L,i as J,_ as D,s as K,a as p,b as Q,d as X,e as Y,h as B,f as A,g as Z,j as ee,m as se,k as te,l as a,n as re,o as oe,p as ne,q as G,t as ae,u as ce,v as W,L as U,B as H}from"./index-COY6l5kG.js";import{u as le,a as ie}from"./useLastNode-DEABvnt8.js";function ue(e){return Object.keys(e).length===0}function de(e=null){const t=j.useContext(z);return!t||ue(t)?e:t}const pe=L();function me(e=pe){return de(e)}const fe=["ownerState"],he=["variants"],xe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ye(e){return Object.keys(e).length===0}function ve(e){return typeof e=="string"&&e.charCodeAt(0)>96}function E(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const je=L(),Se=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function F({defaultTheme:e,theme:t,themeId:r}){return ye(t)?e:t[r]||t}function ge(e){return e?(t,r)=>r[e]:null}function O(e,t){let{ownerState:r}=t,s=D(t,fe);const o=typeof e=="function"?e(p({ownerState:r},s)):e;if(Array.isArray(o))return o.flatMap(c=>O(c,p({ownerState:r},s)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:c=[]}=o;let u=D(o,he);return c.forEach(n=>{let l=!0;typeof n.props=="function"?l=n.props(p({ownerState:r},s,r)):Object.keys(n.props).forEach(m=>{(r==null?void 0:r[m])!==n.props[m]&&s[m]!==n.props[m]&&(l=!1)}),l&&(Array.isArray(u)||(u=[u]),u.push(typeof n.style=="function"?n.style(p({ownerState:r},s,r)):n.style))}),u}return o}function ke(e={}){const{themeId:t,defaultTheme:r=je,rootShouldForwardProp:s=E,slotShouldForwardProp:o=E}=e,c=i=>Q(p({},i,{theme:F(p({},i,{defaultTheme:r,themeId:t}))}));return c.__mui_systemSx=!0,(i,u={})=>{J(i,d=>d.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:n,slot:l,skipVariantsResolver:m,skipSx:S,overridesResolver:v=ge(Se(l))}=u,f=D(u,xe),V=m!==void 0?m:l&&l!=="Root"&&l!=="root"||!1,b=S||!1;let C,g=E;l==="Root"||l==="root"?g=s:l?g=o:ve(i)&&(g=void 0);const k=K(i,p({shouldForwardProp:g,label:C},f)),R=d=>typeof d=="function"&&d.__emotion_real!==d||X(d)?x=>O(d,p({},x,{theme:F({theme:x.theme,defaultTheme:r,themeId:t})})):d,T=(d,...x)=>{let w=R(d);const N=x?x.map(R):[];n&&v&&N.push(y=>{const h=F(p({},y,{defaultTheme:r,themeId:t}));if(!h.components||!h.components[n]||!h.components[n].styleOverrides)return null;const P=h.components[n].styleOverrides,_={};return Object.entries(P).forEach(([q,I])=>{_[q]=O(I,p({},y,{theme:h}))}),v(y,_)}),n&&!V&&N.push(y=>{var h;const P=F(p({},y,{defaultTheme:r,themeId:t})),_=P==null||(h=P.components)==null||(h=h[n])==null?void 0:h.variants;return O({variants:_},p({},y,{theme:P}))}),b||N.push(c);const M=N.length-x.length;if(Array.isArray(d)&&M>0){const y=new Array(M).fill("");w=[...d,...y],w.raw=[...d.raw,...y]}const $=k(w,...N);return i.muiName&&($.muiName=i.muiName),$};return k.withConfig&&(T.withConfig=k.withConfig),T}}const Ne=ke();function Pe(e){const{theme:t,name:r,props:s}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?s:Y(t.components[r].defaultProps,s)}function be({props:e,name:t,defaultTheme:r,themeId:s}){let o=me(r);return s&&(o=o[s]||o),Pe({theme:o,name:t,props:e})}const Ce=["component","direction","spacing","divider","children","className","useFlexGap"],Re=L(),Te=Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function _e(e){return be({props:e,name:"MuiStack",defaultTheme:Re})}function Fe(e,t){const r=j.Children.toArray(e).filter(Boolean);return r.reduce((s,o,c)=>(s.push(o),c<r.length-1&&s.push(j.cloneElement(t,{key:`separator-${c}`})),s),[])}const Oe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],De=({ownerState:e,theme:t})=>{let r=p({display:"flex",flexDirection:"column"},B({theme:t},A({values:e.direction,breakpoints:t.breakpoints.values}),s=>({flexDirection:s})));if(e.spacing){const s=Z(t),o=Object.keys(t.breakpoints.values).reduce((n,l)=>((typeof e.spacing=="object"&&e.spacing[l]!=null||typeof e.direction=="object"&&e.direction[l]!=null)&&(n[l]=!0),n),{}),c=A({values:e.direction,base:o}),i=A({values:e.spacing,base:o});typeof c=="object"&&Object.keys(c).forEach((n,l,m)=>{if(!c[n]){const v=l>0?c[m[l-1]]:"column";c[n]=v}}),r=ee(r,B({theme:t},i,(n,l)=>e.useFlexGap?{gap:G(s,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Oe(l?c[l]:e.direction)}`]:G(s,n)}}))}return r=se(t.breakpoints,r),r};function Ve(e={}){const{createStyledComponent:t=Te,useThemeProps:r=_e,componentName:s="MuiStack"}=e,o=()=>oe({root:["root"]},n=>ne(s,n),{}),c=t(De);return j.forwardRef(function(n,l){const m=r(n),S=te(m),{component:v="div",direction:f="column",spacing:V=0,divider:b,children:C,className:g,useFlexGap:k=!1}=S,R=D(S,Ce),T={direction:f,spacing:V,useFlexGap:k},d=o();return a.jsx(c,p({as:v,ownerState:T,ref:l,className:re(d.root,g)},R,{children:b?Fe(C,b):C}))})}const we=Ve({createStyledComponent:ae("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>ce({props:e,name:"MuiStack"})}),Ae=j.memo(({data:e,lastNodeRef:t})=>{const{pathname:r}=W();return a.jsx("div",{className:"card",children:a.jsx("ul",{className:"card-list",children:e.map((s,o)=>e.length===o+1?a.jsx("li",{ref:o===e.length-1?t:null,children:a.jsxs(U,{to:r+"/"+s.id,className:"card-link",children:[a.jsx("img",{src:s.image,alt:s.name+" logo"}),a.jsx("h2",{className:"card-title",children:s.name}),a.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),a.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),a.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id):a.jsx("li",{children:a.jsxs(U,{to:r+"/"+s.id,className:"card-link",children:[a.jsx("img",{src:s.image,alt:s.name+" logo"}),a.jsx("h2",{className:"card-title",children:s.name}),a.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),a.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),a.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id))})})}),Me=()=>{const{pathname:e}=W(),t=e,[r,s]=j.useState(1),{data:o,isLoading:c,error:i,hasMore:u}=le(r,t),[n,l]=j.useState(o);j.useEffect(()=>{o&&o.length>0&&l(f=>[...f,...o])},[o]);const m=()=>{s(f=>f<42?Number(f)+2:f)},S=()=>{s(f=>f>0?Number(f)-2:f)},v=ie(c,u,s);return a.jsxs(a.Fragment,{children:[i&&a.jsx("p",{children:"- Ошибка получения данных"}),c&&a.jsx("h1",{children:"Загрузка данных"}),a.jsx("div",{className:"absolute",children:a.jsxs(we,{spacing:2,direction:"row",children:[a.jsx(H,{variant:"outlined",onClick:m,disabled:!u||c,children:"Next"}),a.jsx(H,{variant:"outlined",onClick:S,disabled:!u||c,children:"Previos"})]})}),o&&!c&&!i&&(o.length===0?"Список пуст":a.jsx(Ae,{data:n,lastNodeRef:v}))]})};export{Me as default};
