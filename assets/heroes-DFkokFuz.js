import{r as v,T as z,c as L,i as J,_ as O,s as K,a as p,b as Q,d as X,e as Y,h as B,f as D,g as Z,j as ee,m as se,k as te,l as c,n as re,o as oe,p as ne,q as G,t as ce,u as ae,v as W,L as U,B as H}from"./index-Dmx95ohC.js";import{u as le,a as ie}from"./useLastNode-BGenh2R0.js";function ue(e){return Object.keys(e).length===0}function de(e=null){const t=v.useContext(z);return!t||ue(t)?e:t}const pe=L();function me(e=pe){return de(e)}const fe=["ownerState"],he=["variants"],xe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ye(e){return Object.keys(e).length===0}function ve(e){return typeof e=="string"&&e.charCodeAt(0)>96}function E(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const je=L(),Se=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function _({defaultTheme:e,theme:t,themeId:r}){return ye(t)?e:t[r]||t}function ge(e){return e?(t,r)=>r[e]:null}function F(e,t){let{ownerState:r}=t,s=O(t,fe);const n=typeof e=="function"?e(p({ownerState:r},s)):e;if(Array.isArray(n))return n.flatMap(a=>F(a,p({ownerState:r},s)));if(n&&typeof n=="object"&&Array.isArray(n.variants)){const{variants:a=[]}=n;let u=O(n,he);return a.forEach(o=>{let l=!0;typeof o.props=="function"?l=o.props(p({ownerState:r},s,r)):Object.keys(o.props).forEach(m=>{(r==null?void 0:r[m])!==o.props[m]&&s[m]!==o.props[m]&&(l=!1)}),l&&(Array.isArray(u)||(u=[u]),u.push(typeof o.style=="function"?o.style(p({ownerState:r},s,r)):o.style))}),u}return n}function ke(e={}){const{themeId:t,defaultTheme:r=je,rootShouldForwardProp:s=E,slotShouldForwardProp:n=E}=e,a=i=>Q(p({},i,{theme:_(p({},i,{defaultTheme:r,themeId:t}))}));return a.__mui_systemSx=!0,(i,u={})=>{J(i,d=>d.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:o,slot:l,skipVariantsResolver:m,skipSx:f,overridesResolver:j=ge(Se(l))}=u,V=O(u,xe),w=m!==void 0?m:l&&l!=="Root"&&l!=="root"||!1,P=f||!1;let b,S=E;l==="Root"||l==="root"?S=s:l?S=n:ve(i)&&(S=void 0);const g=K(i,p({shouldForwardProp:S,label:b},V)),C=d=>typeof d=="function"&&d.__emotion_real!==d||X(d)?x=>F(d,p({},x,{theme:_({theme:x.theme,defaultTheme:r,themeId:t})})):d,R=(d,...x)=>{let A=C(d);const k=x?x.map(C):[];o&&j&&k.push(y=>{const h=_(p({},y,{defaultTheme:r,themeId:t}));if(!h.components||!h.components[o]||!h.components[o].styleOverrides)return null;const N=h.components[o].styleOverrides,T={};return Object.entries(N).forEach(([q,I])=>{T[q]=F(I,p({},y,{theme:h}))}),j(y,T)}),o&&!w&&k.push(y=>{var h;const N=_(p({},y,{defaultTheme:r,themeId:t})),T=N==null||(h=N.components)==null||(h=h[o])==null?void 0:h.variants;return F({variants:T},p({},y,{theme:N}))}),P||k.push(a);const M=k.length-x.length;if(Array.isArray(d)&&M>0){const y=new Array(M).fill("");A=[...d,...y],A.raw=[...d.raw,...y]}const $=g(A,...k);return i.muiName&&($.muiName=i.muiName),$};return g.withConfig&&(R.withConfig=g.withConfig),R}}const Ne=ke();function Pe(e){const{theme:t,name:r,props:s}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?s:Y(t.components[r].defaultProps,s)}function be({props:e,name:t,defaultTheme:r,themeId:s}){let n=me(r);return s&&(n=n[s]||n),Pe({theme:n,name:t,props:e})}const Ce=["component","direction","spacing","divider","children","className","useFlexGap"],Re=L(),Te=Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function _e(e){return be({props:e,name:"MuiStack",defaultTheme:Re})}function Fe(e,t){const r=v.Children.toArray(e).filter(Boolean);return r.reduce((s,n,a)=>(s.push(n),a<r.length-1&&s.push(v.cloneElement(t,{key:`separator-${a}`})),s),[])}const Oe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Ve=({ownerState:e,theme:t})=>{let r=p({display:"flex",flexDirection:"column"},B({theme:t},D({values:e.direction,breakpoints:t.breakpoints.values}),s=>({flexDirection:s})));if(e.spacing){const s=Z(t),n=Object.keys(t.breakpoints.values).reduce((o,l)=>((typeof e.spacing=="object"&&e.spacing[l]!=null||typeof e.direction=="object"&&e.direction[l]!=null)&&(o[l]=!0),o),{}),a=D({values:e.direction,base:n}),i=D({values:e.spacing,base:n});typeof a=="object"&&Object.keys(a).forEach((o,l,m)=>{if(!a[o]){const j=l>0?a[m[l-1]]:"column";a[o]=j}}),r=ee(r,B({theme:t},i,(o,l)=>e.useFlexGap?{gap:G(s,o)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Oe(l?a[l]:e.direction)}`]:G(s,o)}}))}return r=se(t.breakpoints,r),r};function we(e={}){const{createStyledComponent:t=Te,useThemeProps:r=_e,componentName:s="MuiStack"}=e,n=()=>oe({root:["root"]},o=>ne(s,o),{}),a=t(Ve);return v.forwardRef(function(o,l){const m=r(o),f=te(m),{component:j="div",direction:V="column",spacing:w=0,divider:P,children:b,className:S,useFlexGap:g=!1}=f,C=O(f,Ce),R={direction:V,spacing:w,useFlexGap:g},d=n();return c.jsx(a,p({as:j,ownerState:R,ref:l,className:re(d.root,S)},C,{children:P?Fe(b,P):b}))})}const Ae=we({createStyledComponent:ce("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>ae({props:e,name:"MuiStack"})}),De=v.memo(({data:e,lastNodeRef:t})=>{const{pathname:r}=W();return c.jsx("div",{className:"card",children:c.jsx("ul",{className:"card-list",children:e.map((s,n)=>e.length===n+1?c.jsx("li",{ref:n===e.length-1?t:null,children:c.jsxs(U,{to:r+"/"+s.id,className:"card-link",children:[c.jsx("img",{src:s.image,alt:s.name+" logo"}),c.jsx("h2",{className:"card-title",children:s.name}),c.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),c.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),c.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id):c.jsx("li",{children:c.jsxs(U,{to:r+"/"+s.id,className:"card-link",children:[c.jsx("img",{src:s.image,alt:s.name+" logo"}),c.jsx("h2",{className:"card-title",children:s.name}),c.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),c.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),c.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id))})})}),Me=()=>{const{pathname:e}=W(),t=e,[r,s]=v.useState(1),{data:n,isLoading:a,error:i,hasMore:u}=le(r,t);v.useEffect(()=>{s(1)},[t]);const o=()=>{s(f=>f<42?Number(f)+2:f)},l=()=>{s(f=>f>0?Number(f)-2:f)},m=ie(a,u,s);return c.jsxs(c.Fragment,{children:[i&&c.jsx("p",{children:"- Ошибка получения данных"}),a&&c.jsx("h1",{children:"Загрузка данных"}),c.jsx("div",{className:"absolute",children:c.jsxs(Ae,{spacing:2,direction:"row",children:[c.jsx(H,{variant:"outlined",onClick:o,disabled:!u||a,children:"Next"}),c.jsx(H,{variant:"outlined",onClick:l,disabled:!u||a,children:"Previos"})]})}),n&&!a&&!i&&(n.length===0?"Список пуст":c.jsx(De,{data:n,lastNodeRef:m}))]})};export{Me as default};
