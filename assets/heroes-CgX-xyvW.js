import{r as j,T as z,c as L,i as J,_ as D,s as K,a as p,b as Q,d as X,e as Y,h as B,f as A,g as Z,j as ee,m as se,k as te,l as c,n as re,o as oe,p as ne,q as G,t as ae,u as ce,v as W,L as U,B as H}from"./index-CyIWmDIT.js";import{u as le,a as ie}from"./useLastNode-DFMCon7w.js";function ue(e){return Object.keys(e).length===0}function de(e=null){const t=j.useContext(z);return!t||ue(t)?e:t}const pe=L();function me(e=pe){return de(e)}const fe=["ownerState"],he=["variants"],xe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ye(e){return Object.keys(e).length===0}function ve(e){return typeof e=="string"&&e.charCodeAt(0)>96}function E(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const je=L(),Se=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function F({defaultTheme:e,theme:t,themeId:r}){return ye(t)?e:t[r]||t}function ge(e){return e?(t,r)=>r[e]:null}function O(e,t){let{ownerState:r}=t,s=D(t,fe);const n=typeof e=="function"?e(p({ownerState:r},s)):e;if(Array.isArray(n))return n.flatMap(l=>O(l,p({ownerState:r},s)));if(n&&typeof n=="object"&&Array.isArray(n.variants)){const{variants:l=[]}=n;let u=D(n,he);return l.forEach(o=>{let a=!0;typeof o.props=="function"?a=o.props(p({ownerState:r},s,r)):Object.keys(o.props).forEach(m=>{(r==null?void 0:r[m])!==o.props[m]&&s[m]!==o.props[m]&&(a=!1)}),a&&(Array.isArray(u)||(u=[u]),u.push(typeof o.style=="function"?o.style(p({ownerState:r},s,r)):o.style))}),u}return n}function ke(e={}){const{themeId:t,defaultTheme:r=je,rootShouldForwardProp:s=E,slotShouldForwardProp:n=E}=e,l=i=>Q(p({},i,{theme:F(p({},i,{defaultTheme:r,themeId:t}))}));return l.__mui_systemSx=!0,(i,u={})=>{J(i,d=>d.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:o,slot:a,skipVariantsResolver:m,skipSx:S,overridesResolver:v=ge(Se(a))}=u,f=D(u,xe),V=m!==void 0?m:a&&a!=="Root"&&a!=="root"||!1,b=S||!1;let C,g=E;a==="Root"||a==="root"?g=s:a?g=n:ve(i)&&(g=void 0);const k=K(i,p({shouldForwardProp:g,label:C},f)),R=d=>typeof d=="function"&&d.__emotion_real!==d||X(d)?x=>O(d,p({},x,{theme:F({theme:x.theme,defaultTheme:r,themeId:t})})):d,T=(d,...x)=>{let w=R(d);const N=x?x.map(R):[];o&&v&&N.push(y=>{const h=F(p({},y,{defaultTheme:r,themeId:t}));if(!h.components||!h.components[o]||!h.components[o].styleOverrides)return null;const P=h.components[o].styleOverrides,_={};return Object.entries(P).forEach(([q,I])=>{_[q]=O(I,p({},y,{theme:h}))}),v(y,_)}),o&&!V&&N.push(y=>{var h;const P=F(p({},y,{defaultTheme:r,themeId:t})),_=P==null||(h=P.components)==null||(h=h[o])==null?void 0:h.variants;return O({variants:_},p({},y,{theme:P}))}),b||N.push(l);const M=N.length-x.length;if(Array.isArray(d)&&M>0){const y=new Array(M).fill("");w=[...d,...y],w.raw=[...d.raw,...y]}const $=k(w,...N);return i.muiName&&($.muiName=i.muiName),$};return k.withConfig&&(T.withConfig=k.withConfig),T}}const Ne=ke();function Pe(e){const{theme:t,name:r,props:s}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?s:Y(t.components[r].defaultProps,s)}function be({props:e,name:t,defaultTheme:r,themeId:s}){let n=me(r);return s&&(n=n[s]||n),Pe({theme:n,name:t,props:e})}const Ce=["component","direction","spacing","divider","children","className","useFlexGap"],Re=L(),Te=Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function _e(e){return be({props:e,name:"MuiStack",defaultTheme:Re})}function Fe(e,t){const r=j.Children.toArray(e).filter(Boolean);return r.reduce((s,n,l)=>(s.push(n),l<r.length-1&&s.push(j.cloneElement(t,{key:`separator-${l}`})),s),[])}const Oe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],De=({ownerState:e,theme:t})=>{let r=p({display:"flex",flexDirection:"column"},B({theme:t},A({values:e.direction,breakpoints:t.breakpoints.values}),s=>({flexDirection:s})));if(e.spacing){const s=Z(t),n=Object.keys(t.breakpoints.values).reduce((o,a)=>((typeof e.spacing=="object"&&e.spacing[a]!=null||typeof e.direction=="object"&&e.direction[a]!=null)&&(o[a]=!0),o),{}),l=A({values:e.direction,base:n}),i=A({values:e.spacing,base:n});typeof l=="object"&&Object.keys(l).forEach((o,a,m)=>{if(!l[o]){const v=a>0?l[m[a-1]]:"column";l[o]=v}}),r=ee(r,B({theme:t},i,(o,a)=>e.useFlexGap?{gap:G(s,o)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Oe(a?l[a]:e.direction)}`]:G(s,o)}}))}return r=se(t.breakpoints,r),r};function Ve(e={}){const{createStyledComponent:t=Te,useThemeProps:r=_e,componentName:s="MuiStack"}=e,n=()=>oe({root:["root"]},o=>ne(s,o),{}),l=t(De);return j.forwardRef(function(o,a){const m=r(o),S=te(m),{component:v="div",direction:f="column",spacing:V=0,divider:b,children:C,className:g,useFlexGap:k=!1}=S,R=D(S,Ce),T={direction:f,spacing:V,useFlexGap:k},d=n();return c.jsx(l,p({as:v,ownerState:T,ref:a,className:re(d.root,g)},R,{children:b?Fe(C,b):C}))})}const we=Ve({createStyledComponent:ae("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>ce({props:e,name:"MuiStack"})}),Ae=j.memo(({data:e,lastNodeRef:t})=>{const{pathname:r}=W();return c.jsx("div",{className:"card",children:c.jsx("ul",{className:"card-list",children:e.map((s,n)=>e.length===n+1?c.jsx("li",{ref:n===e.length-1?t:null,children:c.jsxs(U,{to:r+"/"+s.id,className:"card-link",children:[c.jsx("img",{src:s.image,alt:s.name+" logo"}),c.jsx("h2",{className:"card-title",children:s.name}),c.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),c.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),c.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id):c.jsx("li",{children:c.jsxs(U,{to:r+"/"+s.id,className:"card-link",children:[c.jsx("img",{src:s.image,alt:s.name+" logo"}),c.jsx("h2",{className:"card-title",children:s.name}),c.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),c.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),c.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id))})})}),Me=()=>{const{pathname:e}=W(),t=e,[r,s]=j.useState(1),[n,l]=j.useState([]),{data:i,isLoading:u,error:o,hasMore:a}=le(r,t);j.useEffect(()=>{i&&i.length>0&&l(f=>[...f,...i])},[i]);const m=()=>{s(f=>f<42?Number(f)+2:f)},S=()=>{s(f=>f>0?Number(f)-2:f)},v=ie(u,a,s);return c.jsxs(c.Fragment,{children:[o&&c.jsx("p",{children:"- Ошибка получения данных"}),u&&c.jsx("h1",{children:"Загрузка данных"}),c.jsx("div",{className:"absolute",children:c.jsxs(we,{spacing:2,direction:"row",children:[c.jsx(H,{variant:"outlined",onClick:m,disabled:!a||u,children:"Next"}),c.jsx(H,{variant:"outlined",onClick:S,disabled:!a||u,children:"Previos"})]})}),i&&!u&&!o&&(i.length===0?"Список пуст":c.jsx(Ae,{data:n,lastNodeRef:v}))]})};export{Me as default};
