import{r as v,T as z,c as L,i as J,_ as V,s as K,a as f,b as Q,d as X,e as Y,h as B,f as D,g as Z,j as ee,m as se,k as te,l as c,n as re,o as ne,p as oe,q as G,t as ce,u as ae,v as H,L as I,B as U}from"./index-BXB1XX7j.js";import{u as ie}from"./useSearchData-DIgy_sEo.js";function le(e){return Object.keys(e).length===0}function ue(e=null){const t=v.useContext(z);return!t||le(t)?e:t}const de=L();function pe(e=de){return ue(e)}const me=["ownerState"],fe=["variants"],he=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function xe(e){return Object.keys(e).length===0}function ye(e){return typeof e=="string"&&e.charCodeAt(0)>96}function E(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const ve=L(),je=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function F({defaultTheme:e,theme:t,themeId:r}){return xe(t)?e:t[r]||t}function Se(e){return e?(t,r)=>r[e]:null}function w(e,t){let{ownerState:r}=t,s=V(t,me);const o=typeof e=="function"?e(f({ownerState:r},s)):e;if(Array.isArray(o))return o.flatMap(i=>w(i,f({ownerState:r},s)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:i=[]}=o;let m=V(o,fe);return i.forEach(n=>{let a=!0;typeof n.props=="function"?a=n.props(f({ownerState:r},s,r)):Object.keys(n.props).forEach(u=>{(r==null?void 0:r[u])!==n.props[u]&&s[u]!==n.props[u]&&(a=!1)}),a&&(Array.isArray(m)||(m=[m]),m.push(typeof n.style=="function"?n.style(f({ownerState:r},s,r)):n.style))}),m}return o}function ge(e={}){const{themeId:t,defaultTheme:r=ve,rootShouldForwardProp:s=E,slotShouldForwardProp:o=E}=e,i=d=>Q(f({},d,{theme:F(f({},d,{defaultTheme:r,themeId:t}))}));return i.__mui_systemSx=!0,(d,m={})=>{J(d,p=>p.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:n,slot:a,skipVariantsResolver:u,skipSx:j,overridesResolver:l=Se(je(a))}=m,g=V(m,he),k=u!==void 0?u:a&&a!=="Root"&&a!=="root"||!1,C=j||!1;let R,S=E;a==="Root"||a==="root"?S=s:a?S=o:ye(d)&&(S=void 0);const N=K(d,f({shouldForwardProp:S,label:R},g)),T=p=>typeof p=="function"&&p.__emotion_real!==p||X(p)?x=>w(p,f({},x,{theme:F({theme:x.theme,defaultTheme:r,themeId:t})})):p,_=(p,...x)=>{let A=T(p);const P=x?x.map(T):[];n&&l&&P.push(y=>{const h=F(f({},y,{defaultTheme:r,themeId:t}));if(!h.components||!h.components[n]||!h.components[n].styleOverrides)return null;const b=h.components[n].styleOverrides,O={};return Object.entries(b).forEach(([W,q])=>{O[W]=w(q,f({},y,{theme:h}))}),l(y,O)}),n&&!k&&P.push(y=>{var h;const b=F(f({},y,{defaultTheme:r,themeId:t})),O=b==null||(h=b.components)==null||(h=h[n])==null?void 0:h.variants;return w({variants:O},f({},y,{theme:b}))}),C||P.push(i);const M=P.length-x.length;if(Array.isArray(p)&&M>0){const y=new Array(M).fill("");A=[...p,...y],A.raw=[...p.raw,...y]}const $=N(A,...P);return d.muiName&&($.muiName=d.muiName),$};return N.withConfig&&(_.withConfig=N.withConfig),_}}const ke=ge();function Ne(e){const{theme:t,name:r,props:s}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?s:Y(t.components[r].defaultProps,s)}function Pe({props:e,name:t,defaultTheme:r,themeId:s}){let o=pe(r);return s&&(o=o[s]||o),Ne({theme:o,name:t,props:e})}const be=["component","direction","spacing","divider","children","className","useFlexGap"],Ce=L(),Re=ke("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Te(e){return Pe({props:e,name:"MuiStack",defaultTheme:Ce})}function _e(e,t){const r=v.Children.toArray(e).filter(Boolean);return r.reduce((s,o,i)=>(s.push(o),i<r.length-1&&s.push(v.cloneElement(t,{key:`separator-${i}`})),s),[])}const Oe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Fe=({ownerState:e,theme:t})=>{let r=f({display:"flex",flexDirection:"column"},B({theme:t},D({values:e.direction,breakpoints:t.breakpoints.values}),s=>({flexDirection:s})));if(e.spacing){const s=Z(t),o=Object.keys(t.breakpoints.values).reduce((n,a)=>((typeof e.spacing=="object"&&e.spacing[a]!=null||typeof e.direction=="object"&&e.direction[a]!=null)&&(n[a]=!0),n),{}),i=D({values:e.direction,base:o}),d=D({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((n,a,u)=>{if(!i[n]){const l=a>0?i[u[a-1]]:"column";i[n]=l}}),r=ee(r,B({theme:t},d,(n,a)=>e.useFlexGap?{gap:G(s,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Oe(a?i[a]:e.direction)}`]:G(s,n)}}))}return r=se(t.breakpoints,r),r};function we(e={}){const{createStyledComponent:t=Re,useThemeProps:r=Te,componentName:s="MuiStack"}=e,o=()=>ne({root:["root"]},n=>oe(s,n),{}),i=t(Fe);return v.forwardRef(function(n,a){const u=r(n),j=te(u),{component:l="div",direction:g="column",spacing:k=0,divider:C,children:R,className:S,useFlexGap:N=!1}=j,T=V(j,be),_={direction:g,spacing:k,useFlexGap:N},p=o();return c.jsx(i,f({as:l,ownerState:_,ref:a,className:re(p.root,S)},T,{children:C?_e(R,C):R}))})}const Ve=we({createStyledComponent:ce("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>ae({props:e,name:"MuiStack"})}),Ae=v.memo(({data:e,lastNodeRef:t})=>{const{pathname:r}=H();return c.jsx("div",{className:"card",children:c.jsx("ul",{className:"card-list",children:e.map((s,o)=>e.length===o+1?c.jsx("li",{ref:t,children:c.jsxs(I,{to:r+"/"+s.id,className:"card-link",children:[c.jsx("img",{src:s.image,alt:s.name+" logo"}),c.jsx("h2",{className:"card-title",children:s.name}),c.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),c.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),c.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id):c.jsx("li",{children:c.jsxs(I,{to:r+"/"+s.id,className:"card-link",children:[c.jsx("img",{src:s.image,alt:s.name+" logo"}),c.jsx("h2",{className:"card-title",children:s.name}),c.jsxs("p",{className:"card-text",children:["Gender - ",s.gender]}),c.jsxs("p",{className:"card-text",children:["Species - ",s.species]}),c.jsxs("p",{className:"card-text",children:["Status - ",s.status]})]})},s.id))})})}),Le=()=>{const{pathname:e}=H(),t=e,[r,s]=v.useState(1),{data:o,isLoading:i,error:d,hasMore:m}=ie(r,t),n=()=>{s(l=>l<42?Number(l)+2:l)},a=()=>{s(l=>l>0?Number(l)-2:l)},u=v.useRef(null),j=v.useCallback(l=>{i||(u.current&&u.current.disconnect(),u.current=new IntersectionObserver(g=>{g[0].isIntersecting&&m&&(s(k=>k+1),console.log("visible"))}),l&&u.current.observe(l))},[i,m]);return c.jsxs(c.Fragment,{children:[d&&c.jsx("p",{children:"- Ошибка получения данных"}),i&&c.jsx("h1",{children:"Загрузка данных"}),c.jsx("div",{className:"absolute",children:c.jsxs(Ve,{spacing:2,direction:"row",children:[c.jsx(U,{variant:"outlined",onClick:n,children:"Next"}),c.jsx(U,{variant:"outlined",onClick:a,children:"Previos"})]})}),o&&!i&&!d&&(o.length===0?"Список пуст":c.jsx(Ae,{data:o,lastNodeRef:j}))]})};export{Le as default};
